<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The object created by this functions serves as the basis of most further analysis,
such as SurrogateMinimalDepth() and MeanAdjustedAgreement()."><title>Create a random forest with surrogates. — RandomForestSurrogates • RFSurrogates</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a random forest with surrogates. — RandomForestSurrogates"><meta property="og:description" content="The object created by this functions serves as the basis of most further analysis,
such as SurrogateMinimalDepth() and MeanAdjustedAgreement()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RFSurrogates</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/AGSeifert/RFSurrogates/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create a random forest with surrogates.</h1>
      <small class="dont-index">Source: <a href="https://github.com/AGSeifert/RFSurrogates/blob/HEAD/R/RandomForestSurrogates.R" class="external-link"><code>R/RandomForestSurrogates.R</code></a></small>
      <div class="d-none name"><code>RandomForestSurrogates.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The object created by this functions serves as the basis of most further analysis,
such as <code><a href="SurrogateMinimalDepth.html">SurrogateMinimalDepth()</a></code> and <code><a href="MeanAdjustedAgreement.html">MeanAdjustedAgreement()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RandomForestSurrogates</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  s.pct <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">s.pct</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;&amp;</span> <span class="va">s.pct</span> <span class="op">&lt;=</span> <span class="fl">1</span>, <span class="va">s.pct</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  mtry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"^3/4"</span>, <span class="st">"sqrt"</span>, <span class="st">"0.5"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"regression"</span>, <span class="st">"classification"</span>, <span class="st">"survival"</span><span class="op">)</span>,</span>
<span>  status <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  num.trees <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  num.threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  min.node.size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  permutate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preschedule.threads <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x, y</dt>
<dd><p>Predictor data and dependent variables.</p></dd>


<dt>s.pct, s</dt>
<dd><p>Number of surrogate splits.
This can be defined either by setting <code>s.pct</code> to a number between
0 and 1, or providing an exact value for <code>s</code>.</p><ul><li><p><code>s.pct</code>: Percentage of variables to use for <code>s</code>. (Default: 0.01)</p></li>
<li><p><code>s</code>:  Number of surrogate splits. (Default: Number of variables
multiplied by <code>s.pct</code>, which defaults to 0.01; If <code>s.pct</code> is
less than or equal to zero, or greater than 1: 0.01 is used instead.)</p></li>
</ul></dd>


<dt>mtry</dt>
<dd><p>Number of variables to possibly split at in each node.
Default is the (rounded down) number of variables to the power
of three quarters (Ishwaran, 2011).
Alternatively, a single argument function returning an integer,
given the number of independent variables.</p></dd>


<dt>type</dt>
<dd><p>The type of random forest to create with ranger.
One of <code>"regression"</code> (Default), <code>"classification"</code> or <code>"survival"</code>.</p></dd>


<dt>status</dt>
<dd><p>If <code>type = "regression"</code>: Survival forest status variable.
Use 1 for event and 0 for censoring. Length must match <code>y</code>.</p></dd>


<dt>num.trees</dt>
<dd><p>Number of trees.</p></dd>


<dt>num.threads</dt>
<dd><p>Number of threads to parallelize with. (Default: 1)</p></dd>


<dt>min.node.size</dt>
<dd><p>Minimal node size to split at. (Default: 1)</p></dd>


<dt>permutate</dt>
<dd><p>Enable to permutate <code>x</code> for <code><a href="MutualForestImpact.html">MutualForestImpact()</a></code> (Default: FALSE).</p></dd>


<dt>seed</dt>
<dd><p>RNG seed. It is strongly recommended that you set this value.</p></dd>


<dt>preschedule.threads</dt>
<dd><p>(Default: TRUE) Passed as <code>mc.preschedule</code> to <code><a href="https://rdrr.io/r/parallel/mclapply.html" class="external-link">parallel::mclapply()</a></code> in <code><a href="addSurrogates.html">addSurrogates()</a></code>.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger::ranger</a></code></p><dl><dt><code>importance</code></dt>
<dd><p>Variable importance mode, one of 'none', 'impurity', 'impurity_corrected', 'permutation'. The 'impurity' measure is the Gini index for classification, the variance of the responses for regression and the sum of test statistics (see <code>splitrule</code>) for survival.</p></dd>

    <dt><code>min.bucket</code></dt>
<dd><p>Minimal terminal node size. No nodes smaller than this value can occur. Default 3 for survival and 1 for all other tree types.</p></dd>

    <dt><code>max.depth</code></dt>
<dd><p>Maximal tree depth. A value of NULL or 0 (the default) corresponds to unlimited depth, 1 to tree stumps (1 split per tree).</p></dd>

    <dt><code>replace</code></dt>
<dd><p>Sample with replacement.</p></dd>

    <dt><code>sample.fraction</code></dt>
<dd><p>Fraction of observations to sample. Default is 1 for sampling with replacement and 0.632 for sampling without replacement. For classification, this can be a vector of class-specific values.</p></dd>

    <dt><code>case.weights</code></dt>
<dd><p>Weights for sampling of training observations. Observations with larger weights will be selected with higher probability in the bootstrap (or subsampled) samples for the trees.</p></dd>

    <dt><code>class.weights</code></dt>
<dd><p>Weights for the outcome classes (in order of the factor levels) in the splitting rule (cost sensitive learning). Classification and probability prediction only. For classification the weights are also applied in the majority vote in terminal nodes.</p></dd>

    <dt><code>splitrule</code></dt>
<dd><p>Splitting rule. For classification and probability estimation "gini", "extratrees" or "hellinger" with default "gini". For regression "variance", "extratrees", "maxstat" or "beta" with default "variance". For survival "logrank", "extratrees", "C" or "maxstat" with default "logrank".</p></dd>

    <dt><code>num.random.splits</code></dt>
<dd><p>For "extratrees" splitrule.: Number of random splits to consider for each candidate splitting variable.</p></dd>

    <dt><code>alpha</code></dt>
<dd><p>For "maxstat" splitrule: Significance threshold to allow splitting.</p></dd>

    <dt><code>minprop</code></dt>
<dd><p>For "maxstat" splitrule: Lower quantile of covariate distribution to be considered for splitting.</p></dd>

    <dt><code>split.select.weights</code></dt>
<dd><p>Numeric vector with weights between 0 and 1, used to calculate the probability to select variables for splitting. Alternatively, a list of size num.trees, containing split select weight vectors for each tree can be used.</p></dd>

    <dt><code>always.split.variables</code></dt>
<dd><p>Character vector with variable names to be always selected in addition to the <code>mtry</code> variables tried for splitting.</p></dd>

    <dt><code>scale.permutation.importance</code></dt>
<dd><p>Scale permutation importance by standard error as in (Breiman 2001). Only applicable if permutation variable importance mode selected.</p></dd>

    <dt><code>local.importance</code></dt>
<dd><p>Calculate and return local importance values as in (Breiman 2001). Only applicable if <code>importance</code> is set to 'permutation'.</p></dd>

    <dt><code>regularization.factor</code></dt>
<dd><p>Regularization factor (gain penalization), either a vector of length p or one value for all variables.</p></dd>

    <dt><code>regularization.usedepth</code></dt>
<dd><p>Consider the depth in regularization.</p></dd>

    <dt><code>inbag</code></dt>
<dd><p>Manually set observations per tree. List of size num.trees, containing inbag counts for each observation. Can be used for stratified sampling.</p></dd>

    <dt><code>holdout</code></dt>
<dd><p>Hold-out mode. Hold-out all samples with case weight 0 and use these for variable importance and prediction error.</p></dd>

    <dt><code>quantreg</code></dt>
<dd><p>Prepare quantile prediction as in quantile regression forests (Meinshausen 2006). Regression only. Set <code>keep.inbag = TRUE</code> to prepare out-of-bag quantile prediction.</p></dd>

    <dt><code>oob.error</code></dt>
<dd><p>Compute OOB prediction error. Set to <code>FALSE</code> to save computation time, e.g. for large survival forests.</p></dd>

    <dt><code>save.memory</code></dt>
<dd><p>Use memory saving (but slower) splitting mode. No effect for survival and GWAS data. Warning: This option slows down the tree growing, use only if you encounter memory problems.</p></dd>

    <dt><code>verbose</code></dt>
<dd><p>Show computation status and estimated runtime.</p></dd>

  
</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A RandomForestSurrogates S3 object.</p><ul><li><p><code>trees</code>: List of all trees with surrogate analysis. (Class: <code>SurrogateTrees</code>, <code>LayerTrees</code>, <code>RangerTrees</code>)</p></li>
<li><p><code>ranger</code>: The <a href="http://imbs-hl.github.io/ranger/reference/ranger.html" class="external-link">ranger::ranger</a> model used to obtain the trees.</p></li>
<li><p><code>s</code>: The number of surrogates investigated.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stephan Seifert, Sven Gundlach, Silke Szymczak, Lukas C. Jarren, Florian Gärber.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

